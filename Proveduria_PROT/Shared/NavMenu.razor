<div class="top-row ps-3 navbar navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" href="">
            <img src="img/ulises perfil .jpg" alt="Profile" style="width: 30px; height: 30px; border-radius: 50%; object-fit: cover;" class="me-2" />
            Proveduria_Analisis
        </a>
        <button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</div>

<div class="@NavMenuCssClass bg-dark text-white d-flex flex-column nav-menu-container" @onclick="ToggleNavMenu" style="height: 93.8vh; ">
    <nav class="flex-column flex-grow-1 overflow-auto nav-menu-content" style="max-height: calc(100vh - 100px);">

        <AuthorizeView Roles="Administrador">
            <Authorized>
                <div class="nav-item px-3">
                    <NavLink class="nav-link text-white" href="/crearusuario">
                        <span class="oi oi-user" aria-hidden="true"></span> Usuarios
                    </NavLink>
                </div>
            </Authorized>
        </AuthorizeView>

        <!-- INICIO Comprador-->
        <AuthorizeView Roles="Comprador">
            <Authorized>
                <div class="nav-item px-3">
                    <NavLink class="nav-link text-white" href="" Match="NavLinkMatch.All">
                        <span class="oi oi-home" aria-hidden="true"></span> Crear Orden
                    </NavLink>
                </div>

                <div class="nav-item px-3">
                    <NavLink class="nav-link text-white" href="counter">
                        <span class="oi oi-list" aria-hidden="true"></span> Ordenes
                    </NavLink>
                </div>

                <div class="nav-item px-3">
                    <NavLink class="nav-link text-white" href="fetchdata">
                        <span class="oi oi-clock" aria-hidden="true"></span> Reportes
                    </NavLink>
                </div>
            </Authorized>
        </AuthorizeView>
        <!-- FIN Comprador-->
        <!--INICIO JEFATURA-->
        <!--FIN JEFATURA-->

    </nav>

    <div class="nav-menu-footer mt-auto">
        <AuthorizeView Roles="Administrador,Comprador,jefatura,aprobador">
            <Authorized>
                <hr class="bg-secondary">
                <div class="nav-item px-3">
                    <NavLink class="nav-link text-white" href="about">
                        <span class="oi oi-info" aria-hidden="true"></span> Acerca de
                    </NavLink>
                </div>
                <div class="nav-item px-3">
                    <NavLink class="nav-link text-white" href="logout">
                        <span class="oi oi-account-logout" aria-hidden="true"></span> Salir
                    </NavLink>
                </div>
            </Authorized>
        </AuthorizeView>
    </div>
</div>

@code {
    private bool collapseNavMenu = true;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
